{% extends "base.html" %}
{% from "_formhelpers.html" import render_field %}

{% block body %}
<ul class="breadcrumb">
  <li><a href="/">Home</a> <span class="divider">/</span></li>
  <li><a href="/timesheet">Timesheets</a> <span class="divider">/</span></li>
  <li class="active">My Time</li>
</ul>

<p>Thanks for your work on {{ request.args.work }}, {{ request.args.name }} - you've worked a total of <strong>{{ timesheet_lines|sum(attribute='hours') }}</strong> hours so far!</p>

<table class="table table-striped table-bordered">
	<thead><tr><th>Date</th><th>Hours</th><th>Work</th><th>Description</th></tr></thead>
	<tbody>
	<!-- take all of the timesheet lines for a volunteer, sort them in reverse order by date (so the latest entry will be at the top), and display them in a table-->
	{% for line in timesheet_lines|sort(attribute='date', reverse=True) %}
		<tr><td>{{ line.date }}</td><td>{{ line.hours }}</td><td>{{ line.work.name }}</td><td>{{ line.description }}</td></tr>
	{% endfor %}
	</tbody>
</table>

{% endblock %}
